<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>CryptoHack Bot - Dashboard</h1>
            <p>Real-time trading dashboard with live charts and predictions</p>
            <div id="authSection" class="auth-section">
                <div id="loginForm" class="auth-form" style="display: none;">
                    <h3>Login</h3>
                    <form id="loginFormElement">
                        <input type="text" id="loginUsername" placeholder="Username" required>
                        <input type="password" id="loginPassword" placeholder="Password" required>
                        <button type="submit">Login</button>
                        <button type="button" id="showRegister">Register</button>
                    </form>
                </div>
                <div id="registerForm" class="auth-form" style="display: none;">
                    <h3>Register</h3>
                    <form id="registerFormElement">
                        <input type="text" id="registerUsername" placeholder="Username" required>
                        <input type="email" id="registerEmail" placeholder="Email" required>
                        <input type="password" id="registerPassword" placeholder="Password" required>
                        <button type="submit">Register</button>
                        <button type="button" id="showLogin">Login</button>
                    </form>
                </div>
                <div id="userInfo" class="user-info" style="display: none;">
                    <span id="usernameDisplay"></span>
                    <button id="logoutBtn">Logout</button>
                </div>
                <button id="showLoginBtn" class="auth-btn">Login / Dashboard</button>
            </div>
        </header>

        <main>
            <section class="section">
                <h2>Real-Time Price Chart</h2>
                <div class="form-group">
                    <label for="chartSymbol">Symbol:</label>
                    <select id="chartSymbol">
                        <option value="BTCUSDT">BTC/USDT</option>
                        <option value="ETHUSDT">ETH/USDT</option>
                        <option value="BNBUSDT">BNB/USDT</option>
                        <option value="ADAUSDT">ADA/USDT</option>
                    </select>
                    <label for="chartStrategy">Strategy:</label>
                    <select id="chartStrategy">
                        <option value="">None</option>
                        <option value="grid">Grid Trading</option>
                        <option value="dca">Dollar-Cost Averaging (DCA)</option>
                    </select>
                    <button id="startChart">Start Live Chart</button>
                    <button id="stopChart">Stop Chart</button>
                </div>
                <canvas id="priceChart" width="800" height="400"></canvas>
                <div id="currentPrice" class="result"></div>
            </section>

            <section class="section">
                <h2>Trading Strategy Guide</h2>
                <div id="strategyGuide" class="guide-overlay" style="display: none;">
                    <div class="guide-content">
                        <h3>How to Use Trading Strategies</h3>
                        <p><strong>Grid Trading:</strong> Places buy orders below current price and sell orders above. Take profit when price hits sell levels, stop loss when it drops below buy levels.</p>
                        <p><strong>DCA (Dollar-Cost Averaging):</strong> Buys at regular intervals or when price drops. Take profit at predetermined levels above purchase price.</p>
                        <p><strong>Signal Lines:</strong> Green lines show buy signals with take profit levels. Red lines show sell signals with take profit levels.</p>
                        <button id="closeGuide">Got it!</button>
                    </div>
                </div>
                <button id="showGuide">Show Strategy Guide</button>
            </section>

            <section class="section">
                <h2>Get Current Price</h2>
                <form id="priceForm">
                    <div class="form-group">
                        <label for="exchange">Exchange:</label>
                        <select id="exchange" required>
                            <option value="binance">Binance</option>
                            <!-- Add more exchanges here -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="symbol">Symbol (e.g., BTCUSDT):</label>
                        <input type="text" id="symbol" placeholder="BTCUSDT" required>
                    </div>
                    <button type="submit">Get Price</button>
                </form>
                <div id="priceResult" class="result"></div>
            </section>

            <section class="section">
                <h2>Predict Profit</h2>
                <form id="predictForm">
                    <div class="form-group">
                        <label for="strategy">Strategy:</label>
                        <select id="strategy" required>
                            <option value="grid">Grid Trading</option>
                            <option value="dca">Dollar-Cost Averaging (DCA)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="predictSymbol">Symbol:</label>
                        <input type="text" id="predictSymbol" placeholder="BTCUSDT" required>
                    </div>
                    <div class="form-group">
                        <label for="investment">Investment Amount (USD):</label>
                        <input type="number" id="investment" placeholder="1000" required>
                    </div>
                    <div class="form-group">
                        <label for="timeframe">Timeframe:</label>
                        <select id="timeframe" required>
                            <option value="short">Short Term</option>
                            <option value="long">Long Term</option>
                        </select>
                    </div>
                    <button type="submit">Predict Profit</button>
                </form>
                <div id="predictResult" class="result"></div>
            </section>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>
